<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>blog.wamser.eu - VDS6.net IPv6 and the old world</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">blog.wamser.eu</a>
            </div>
            <div id="navigation">
                <a href="../about.html">About</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>VDS6.net IPv6 and the old world</h1>

            <div class="info">
    Posted on September 26, 2016
    
</div>

<p>After <a href="2016-08-10-chromebook-not-charging-sheeva-plug-dead.html">my home server died</a> I wanted to get my Web-based RSS Reader up again ASAP. The good thing was that I was running my Sheeva Plug off a SD card and as such I could just copy over setup files and the sqlite database without picking around in backups. [Full disclosure: The backup I had was very outdated.]</p>
<h2 id="vds6">VDS6</h2>
<p>The other question was: Where to put my server? That’s when I remembered <a href="http://vds6.net/?from=4104">VDS6</a> and their budget VPS offer. The RSS Reader needs just a bit of PHP and is served by gatling, so the smallest VPS offered (256MB RAM/Swap, 5GB HD, 2 IPv6 addresses) is powerful enough. The price is unbeatable: It comes in at roughly 4.50€ a <strong>year</strong>, while the electricity bill for the Plug was roughly 40-45€ a year. The ordering process at VDS6 is very streamlined and the VPS was activated within minutes with the Debian-7-minimal-i386 image I selected during the ordering process.</p>
<p>(Sidenote: The minimal image takes about 300 Megs of storage while the ISPmanager-Image takes around 1.5GB.)</p>
<p>The first thing I had to figure out was how to actually have it talk to the outside world. Well, you get what you pay for, and I didn’t pay for an IPv4-Adress, so it is IPv6 only. As ‘/etc/resolv.conf’ had only IP4-Adresses for nameservers, I quickly fixed the domain/search entries and put in Google’s public DNS6 servers. With that done I could easily ‘apt-get update &amp;&amp; apt-get upgrade’ and even upgrade to Debian 8.</p>
<p>Setting up an AAAA record for a (sub)domain and running <a href="2016-04-12-lets-encrypt-gatling.html">gatling with a Let’s encrypt certificate</a> was then also just a matter of minutes.</p>
<p>Performance is quite good and ‘cat /proc/cpuinfo’ reports a single core of a Xeon E5-2200 processor. As this is a VPS that shares its hardware with many other users through OpenVZ virtualisation, it can get slow at times, even to the point where you can get a cup of coffee before your ssh-terminal responds to keystrokes. But usually performance is back to normal after a few minutes.</p>
<h2 id="the-back-side-of-the-medal">The back side of the medal</h2>
<p>Once you go IPv6-only you painfully realise that an awful lot of Web sites haven’t yet adopted this crazy new tech. Granted, it is only 20 years old, but even the big cloud players (<a href="https://www.dropboxforum.com/hc/en-us/community/posts/203283805-IPv6-Support-">Dropbox</a>, <a href="https://help.github.com/articles/what-ip-addresses-does-github-use-that-i-should-whitelist/">GitHub</a>) are just putting it off for later. That meant that my RSS Reader failed on pulling ~80% of its feeds. The solution was obvious: I needed a wormhole out of this IPv6-world back into the old IPv4-world. And the plan was to do this without another server that runs a dual stack.</p>
<h2 id="to-4">6 to 4</h2>
<p>The first stop was <a href="https://developers.google.com/speed/public-dns/docs/dns64">Google’s public DNS64</a>, but you have to provide your own machine that translates between IPv6 and IPv4 (a NAT64) plus set up the routing. Dead end here.</p>
<p>Next stop was <a href="http://aa.net.uk/kb-broadband-ipv6-nat64.html">Andrews &amp; Arnold Ltd</a>, an ISP that provides DNS64 and NAT64. And, hooray, this combination worked. For a few weeks until they decided to restrict their service to their own customers.</p>
<p>So for the moment I am using the the services of <a href="https://go6lab.si/current-ipv6-tests/nat64dns64-public-test/">go6lab</a>.</p>
<h2 id="to-6">4 to 6</h2>
<p>Fortunately IPv6 is well supported on the client side, leaving the network as a last hurdle, especially on the road, as most providers in Germany do not yet support IPv6 for mobile data. While this can be solved with a tunnel, it is still cumbersome. At least it is easier to find a broker for a 6in4-Tunnel than the other way round.</p>
<h2 id="alternate-routes">Alternate routes</h2>
<p>Another way to get IPv4 back (on the server) is to cheat a bit on the “another server with dual-stack” part. I thought about setting up an OpenVPN connection to my home router, risking to clog my upstream at home. The other option would have been getting a cheap VPN service. But beware: Not all of them are accessible via IPv6. A final thought went to using Tor, but I got the impression that the number of IPv6-nodes is still very low and IPv6/IPv4 crossover is not intended.</p>
<h2 id="whats-in-for-you">What’s in for you?</h2>
<p>As Github is IPv4 only I decided to serve a IPv6 version of my blog from VDS6. This version is also accessible by HTTPS. DNS resolution will point you either way, depending on the protocol you use.</p>
<p>If you also want to try out <a href="http://vds6.net/?from=4104">VDS6</a>, please do so through my <a href="http://vds6.net/?from=4104">affiliate link</a>.</p>
<p>Disclosure: I am writing this post as a random customer of <a href="http://vds6.net/?from=4104">VDS6</a>. This post was not sponsored or endorsed by anyone.</p>

        </div>
        <div id="footer">
            <a href="../impressum.html">Impressum</a>
        </div>
    </body>
</html>
